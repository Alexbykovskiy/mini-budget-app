<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Конверты бюджета</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
  <main class="container">
    <fieldset class="block">
      <legend>Добавить конверт</legend>
<form id="add-envelope-form" autocomplete="off">
  <label>
    Название<br>
    <input type="text" id="envelope-name" required autocomplete="off">
  </label>

  <label style="display: flex; align-items: center; gap: 8px; margin: 12px 0 4px 0;">
    <input type="checkbox" id="envelope-has-goal">
    <span>Цель</span>
  </label>
  <div id="goal-block" style="display:none;">
    <input type="number" id="envelope-goal" min="0" step="1" placeholder="Сумма цели">
  </div>

  <label>
    Комментарий<br>
    <input type="text" id="envelope-comment" autocomplete="off">
  </label>

  <label style="display: flex; align-items: center; gap: 8px; margin: 12px 0 4px 0;">
    <input type="checkbox" id="envelope-distribution">
    <span>Участвовать в распределении</span>
  </label>
  <div id="percent-block" style="display:none;">
    <label style="display: flex; align-items: center; gap: 12px;">
      <input type="range" id="envelope-percent" min="0" max="100" step="1" value="0" style="width:120px;">
      <span id="envelope-percent-label">0%</span>
    </label>
  </div>

  <button type="submit" class="round-btn green" style="margin-top:18px;">
    <span data-lucide="plus"></span> Добавить
  </button>
</form>
    </fieldset>

    <div class="controls row" style="gap: 12px; justify-content: space-between; margin-top: 24px;">
      <button id="distribute-income" class="primary-btn">➕ Добавить доход</button>
      <button onclick="openDistributionEditor()" class="gray-btn">⚙️ Настроить проценты</button>
    </div>

    <div id="envelope-list" class="section-list" style="margin-top: 16px;"></div>
  </main>

  <nav class="main-bottom-menu">
    <a href="index.html" class="menu-btn" title="Mini Budget">
      <span class="menu-icon"><span data-lucide="car"></span></span>
    </a>
    <a href="envelopes.html" class="menu-btn active" title="Конверты">
      <span class="menu-icon"><span data-lucide="mail"></span></span>
    </a>
  </nav>

  <script src="envelopes-app.js"></script>
  <script>lucide.createIcons();</script>
</body>
</html>
