/* =========================================================
   MINI Budget â€” GLASSMORPHISM THEME (drop-in replacement)
   Notes: keep HTML structure as-is. Comments are in English.
   ========================================================= */

/* -------- Root & palette -------- */
:root{
  --accent: #FFA35C;
  --text: #ffffff;
  --muted: #cfd6d9;
  --glass-dark: rgba(0,0,0,0.50);
  --glass-field: rgba(0,0,0,0.40);
  --glass-pill: rgba(255,255,255,0.46);
}

/* -------- Reset / base -------- */
*{ box-sizing: border-box }
html, body{ height:100% }
body{
  font-family: -apple-system, system-ui, Segoe UI, Roboto, sans-serif;
  margin: 0; padding: 10px;
  color: var(--text);
  background: none !important; /* kill neumorphic grey */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* -------- Fixed background image (optional) --------
   Place your image in /public; keep name if already used.
----------------------------------------------------- */
.background-fixed{
  position: fixed; inset: 0; z-index: 0;
  background: url('envelopes-background.jpg') center/cover no-repeat;
  pointer-events: none; user-select: none;
}

/* -------- Main column container -------- */
.container{
  max-width: 360px; width: 100%;
  margin: 0 auto;
  display: flex; flex-direction: column; gap: 15px;
  position: relative; z-index: 1;
}

/* =========================================================
   GLASS BLOCKS
   Attach .block to any section/card you want glassy.
   ========================================================= */
.block{
  width: 360px; max-width: 98vw; margin: 0 auto 24px;
  border-radius: 24px !important;
  background:
    linear-gradient(120deg, rgba(255,255,255,0.06) 8%, rgba(0,0,0,0.06) 100%),
    var(--glass-dark);
  box-shadow: 0 6px 24px rgba(0,0,0,0.06), 0 1.5px 6px rgba(0,0,0,0.06);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  position: relative; overflow: hidden;
  padding: 18px 20px 22px;
}

/* glossy bevel & border (subtle glass rim) */
.block::before{
  content:''; position:absolute; inset:0; z-index:2; pointer-events:none; border-radius:inherit;
  background: linear-gradient(135deg, rgba(255,255,255,0.36) 0%, rgba(255,255,255,0.15) 32%, rgba(255,255,255,0) 68%);
}
.block::after{
  content:''; position:absolute; inset:0; z-index:10; pointer-events:none; border-radius:inherit;
  border: 1.5px solid transparent;
  background: linear-gradient(135deg, rgba(255,255,255,0.50) 15%, rgba(255,255,255,0.00) 90%) border-box;
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0) border-box;
  -webkit-mask-composite: xor; mask-composite: exclude;
}

/* variant to remove extra shadow if needed */
.block.no-shadow{ box-shadow: none }

/* -------- Section title row -------- */
.section-title-row{
  display:flex; justify-content:space-between; align-items:center; gap:12px;
  margin-bottom: 14px;
}
.section-title{
  margin:0; font-size:18px; font-weight:700; letter-spacing:.2px;
}

/* =========================================================
   FORMS & FIELDS
   ========================================================= */
.row{ display:flex; gap:12px; margin-bottom:12px }
.row > *{ flex:1 1 0; min-width:0 }

input[type="text"],
input[type="number"],
input[type="date"],
select, textarea, button{
  border: none !important; outline: none !important; box-shadow: none !important;
  -webkit-appearance: none !important; appearance: none !important;
  background: var(--glass-field) !important;
  color: #e9eef0 !important;
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  font-size: 16px; padding: 12px 18px !important; border-radius: 999px !important;
}
input::placeholder, textarea::placeholder{ color:#cfd6d9 !important; opacity:.85 }
input:focus, select:focus, textarea:focus{
  box-shadow: 0 0 0 2px rgba(255,163,92,0.90) !important;
}

/* Compact labels (small helper text) */
.small-label{
  display:block; font-size:12px; color:var(--muted); margin-bottom:8px;
}

/* textarea keep rounded but allow height */
textarea{ border-radius: 16px !important; min-height: 88px }

/* -------- Round icon buttons (confirm/cancel etc.) -------- */
.form-buttons{
  display:flex; gap:12px; justify-content:space-between; margin-top:6px;
}
.round-btn{
  width:48px; height:48px; border-radius:999px; border:none;
  background: var(--glass-pill); color:#000; cursor:pointer;
  display:flex; align-items:center; justify-content:center;
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  transition: transform .12s ease, filter .12s ease, background .12s ease;
}
.round-btn:hover{ filter: brightness(.98) }
.round-btn:active{ transform: scale(.96) }
.round-btn.orange{ box-shadow: 0 0 0 2px rgba(255,163,92,0.66) inset }
.round-btn.green { box-shadow: 0 0 0 2px rgba(67,192,124,0.66) inset }

/* -------- Selects specifics -------- */
select{ padding-right: 36px !important; background-image:none }

/* -------- Date input center text -------- */
input[type="date"]{ text-align:center; font-weight:600 }

/* =========================================================
   iOS-LIKE SWITCH (uses .ios-switch > input + .slider)
   ========================================================= */
.ios-switch{ display:inline-block; position:relative; width:38px; height:24px; vertical-align:middle }
.ios-switch input{ opacity:0; width:0; height:0 }
.ios-switch .slider{
  position:absolute; inset:0; cursor:pointer; border-radius:99px; transition:.2s;
  background: rgba(40,43,49,0.54);
  box-shadow: 0 3px 7px rgba(0,0,0,0.22) inset, 0 -5px 16px rgba(255,255,255,0.19) inset;
}
.ios-switch .slider::before{
  content:""; position:absolute; left:4px; top:4px; width:16px; height:16px; border-radius:50%;
  background:#fff; box-shadow: 1px 1px 4px #aaa; transition:.2s;
}
.ios-switch input:checked + .slider{
  background: var(--accent);
  box-shadow: 0 2px 7px rgba(255,163,92,0.16) inset, 0 -1px 4px rgba(255,255,255,0.10) inset;
}
.ios-switch input:checked + .slider::before{ transform: translateX(14px) }
.ios-switch input:checked + .slider::after{
  content:''; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  width:54px; height:40px; border-radius:50%; opacity:.37; pointer-events:none; filter:blur(12px);
  background: linear-gradient(120deg, rgba(255,163,92,0.21) 0%, rgba(255,163,92,0.09) 70%, rgba(255,255,255,0) 100%);
}

/* =========================================================
   STATS CARDS GRID
   ========================================================= */
.stats-cards{
  display:grid; grid-template-columns: 1fr 1fr; gap:10px;
}
.stats-card{
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:2px; padding:12px 8px; border-radius:18px;
  background: rgba(0,0,0,0.34);
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
}
.stats-card h4{
  margin:0; font-size:12px; font-weight:600; color:var(--muted); text-align:center
}
.stats-card p{
  margin:0; font-size:22px; font-weight:800; letter-spacing:.2px
}
.stats-card span{
  font-size:12px; color:var(--muted)
}

/* =========================================================
   CHARTS & LEGEND
   ========================================================= */
.chart-with-info{ display:flex; flex-direction:column; gap:12px }
.google-chart{ width:100%; min-height: 220px }
.custom-legend{
  display:flex; flex-direction:column; gap:6px;
  border-radius:16px; padding:10px 12px;
  background: rgba(0,0,0,0.28);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
}
.custom-legend .legend-item{
  display:flex; align-items:center; justify-content:space-between; gap:10px; font-size:14px
}
.custom-legend .legend-left{ display:flex; align-items:center; gap:8px }
.custom-legend .legend-color{
  width:12px; height:12px; border-radius:50%; box-shadow: 0 0 0 1px rgba(255,255,255,0.25) inset
}
.custom-legend .legend-label{ color:#e9eef0 }
.custom-legend .legend-value{ color:var(--muted) }

/* =========================================================
   FILTERS / COLLAPSIBLE BLOCKS
   ========================================================= */
.collapsed .section-body{ display:none } /* if you wrap content into .section-body */
.collapsed{
  padding-top: 16px; padding-bottom: 16px;
}
.filters-toggle-container{ display:flex; align-items:center; gap:10px }

/* =========================================================
   JOURNAL / LIST AREA
   ========================================================= */
#expense-list-wrapper{
  display:flex; flex-direction:column; gap:10px;
  max-height: 360px; overflow: auto;
  padding-right: 4px;
}
#expense-list{
  display:flex; flex-direction:column; gap:10px;
}
/* single history/expense row (generic) */
.history-entry, .expense-row{
  display:grid; grid-template-columns: 1fr auto; gap:10px;
  align-items:center;
  padding:12px 12px; border-radius:16px;
  background: rgba(0,0,0,0.34);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
}

/* =========================================================
   NAV PILL (bottom floating)
   ========================================================= */
.floating-pill{
  position: fixed; left:50%; bottom:22px; transform: translateX(-50%);
  width:150px; height:48px;
  background: var(--glass-pill);
  backdrop-filter: blur(14px); -webkit-backdrop-filter: blur(14px);
  border-radius: 999px; border: none;
  display:flex; align-items:stretch; justify-content:center; z-index:10010;
  user-select:none; pointer-events:auto; padding:0; overflow:visible;
}
.pill-half,.pill-third,.pill-center{
  flex:1 1 0; display:flex; align-items:center; justify-content:center; height:100%;
  text-decoration:none; transition: background .15s, filter .14s;
  cursor:pointer; outline:none
}
.pill-icon{ display:flex; align-items:center; justify-content:center; width:48px; height:48px }
.pill-icon svg{ width:35px !important; height:35px !important; stroke:#888; opacity:.95; transition: stroke .13s }
.pill-divider{
  width:4px; height:36px; align-self:center; border-radius:6px;
  background: linear-gradient(120deg, rgba(255,255,255,0.97) 0%, rgba(200,220,230,0.18) 48%, rgba(180,180,180,0.07) 100%);
  box-shadow: 0 2px 7px rgba(255,255,255,0.18) inset; opacity:.72; filter: blur(.2px)
}
.pill-half:hover .pill-icon svg,
.pill-center:hover .pill-icon svg{ stroke: var(--accent) }
.pill-half:active,.pill-half:focus,
.pill-center:active,.pill-center:focus{
  filter: brightness(.96); background: rgba(220,220,220,0.19)
}
.pill-half:focus-visible,.pill-center:focus-visible{
  box-shadow: 0 0 0 2.5px rgba(255,163,92,0.20)
}

/* =========================================================
   TOAST
   ========================================================= */
.toast{
  position: fixed; left: 50%; bottom: 84px; transform: translateX(-50%);
  background: rgba(0,0,0,0.72);
  color: #fff; padding: 10px 14px; border-radius: 999px;
  box-shadow: 0 6px 24px rgba(0,0,0,0.20);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  z-index: 20000;
  font-size: 14px;
}
.toast.hidden{ display:none }

/* =========================================================
   ANIMATIONS
   ========================================================= */
.animated-section{ animation: fadeInUp .35s ease both }
.animated-section.delay-1{ animation-delay:.06s }
.animated-section.delay-2{ animation-delay:.12s }
.animated-section.delay-3{ animation-delay:.18s }
.animated-section.delay-4{ animation-delay:.24s }

@keyframes fadeInUp{
  from{ opacity:0; transform: translate3d(0,8px,0) }
  to  { opacity:1; transform: translate3d(0,0,0) }
}

/* =========================================================
   MISC / UTILITIES
   ========================================================= */
.pill-row{ display:flex; justify-content:space-between; align-items:center; gap:18px }
.hidden{ display:none !important }
.center{ text-align:center }
.right { text-align:right }
.left  { text-align:left }

/* Debug square (if used) */
#debug-square{
  position:fixed; left:50%; bottom:30px; width:100px; height:100px;
  background: rgba(255,50,50,0.85); border:3px solid #333; border-radius:16px;
  z-index: 999999 !important; box-shadow: 0 8px 36px 0 rgba(0,0,0,0.21)
}
