<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MINI Budget</title>

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="theme-toggle.css" />

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <link rel="apple-touch-icon" href="mini-icon-192x192.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="theme-color" content="#e0e0e0" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div id="theme-toggle">üåô</div>

  <h1 id="summary">–í—Å–µ–≥–æ: ‚Ç¨0.00</h1>
  <div class="chart-container">
    <canvas id="expenseChart"></canvas>
  </div>

  <fieldset class="block">
    <legend>–§–∏–ª—å—Ç—Ä—ã</legend>
    <div class="filters">
      <div class="row">
        <label class="small-label">–ü–µ—Ä–∏–æ–¥:</label>
        <input type="date" id="filter-from" />
        <input type="date" id="filter-to" />
      </div>
      <div class="row">
        <input type="text" id="filter-tag" placeholder="#—Ç–µ–≥" />
        <select id="filter-category">
          <option value="–í—Å–µ">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
          <option>–¢–æ–ø–ª–∏–≤–æ</option>
          <option>–ü–∞—Ä–∫–æ–≤–∫–∞</option>
          <option>–®—Ç—Ä–∞—Ñ—ã</option>
          <option>–°–µ—Ä–≤–∏—Å</option>
          <option>–†–µ–º–æ–Ω—Ç</option>
          <option>–°—Ç—Ä–∞—Ö–æ–≤–∫–∞</option>
          <option>–®–∏–Ω—ã</option>
          <option>–¢—é–Ω–∏–Ω–≥</option>
          <option>–ú–æ–π–∫–∞</option>
          <option>–í–∏–Ω—å–µ—Ç–∫–∞/–ü–ª–∞—Ç–Ω—ã–µ –¥–æ—Ä–æ–≥–∏</option>
          <option>–î—Ä—É–≥–æ–µ</option>
        </select>
      </div>
      <div class="row">
        <input type="number" id="filter-row-start" placeholder="–°—Ç—Ä–æ–∫–∞ –æ—Ç" />
        <input type="number" id="filter-row-end" placeholder="–¥–æ —Å—Ç—Ä–æ–∫–∏" />
      </div>
      <div class="form-buttons">
        <button onclick="location.reload()">–°–±—Ä–æ—Å</button>
        <button onclick="applyFilters()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
    </div>
  </fieldset>

  <fieldset class="block">
    <legend>–ñ—É—Ä–Ω–∞–ª</legend>
    <ul id="expense-list"></ul>
  </fieldset>

  <fieldset class="block">
    <legend>–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥</legend>
    <form id="expense-form" class="expense-form">
      <div class="row">
        <select id="category">
          <option>–¢–æ–ø–ª–∏–≤–æ</option>
          <option>–ü–∞—Ä–∫–æ–≤–∫–∞</option>
          <option>–®—Ç—Ä–∞—Ñ—ã</option>
          <option>–°–µ—Ä–≤–∏—Å</option>
          <option>–†–µ–º–æ–Ω—Ç</option>
          <option>–°—Ç—Ä–∞—Ö–æ–≤–∫–∞</option>
          <option>–®–∏–Ω—ã</option>
          <option>–¢—é–Ω–∏–Ω–≥</option>
          <option>–ú–æ–π–∫–∞</option>
          <option>–í–∏–Ω—å–µ—Ç–∫–∞/–ü–ª–∞—Ç–Ω—ã–µ –¥–æ—Ä–æ–≥–∏</option>
          <option>–î—Ä—É–≥–æ–µ</option>
        </select>
        <input type="text" id="amount" placeholder="–°—É–º–º–∞ ‚Ç¨" required />
      </div>
      <div class="row">
        <input type="text" id="liters" placeholder="–õ–∏—Ç—Ä—ã" />
        <input type="text" id="mileage" placeholder="–ü—Ä–æ–±–µ–≥ (–∫–º)" />
      </div>
      <div class="row">
        <input type="text" id="note" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" />
        <input type="text" id="tag" placeholder="#—Ç–µ–≥" />
      </div>
      <div class="row">
        <label class="small-label">–î–∞—Ç–∞:</label>
        <input type="date" id="date" required />
      </div>
      <div class="form-buttons">
        <button type="button" onclick="form.reset(); document.getElementById('edit-id').value = '';">–û—Ç–º–µ–Ω–∞</button>
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
      <input type="hidden" id="edit-id" />
    </form>
  </fieldset>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js');
    }
  </script>

  <script src="firebase-config.js"></script>
  <script src="app.js"></script>
</body>
</html>